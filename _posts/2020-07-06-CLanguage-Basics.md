---
title: "CLanguage Basics"
last_modified_at: 2023-07-10T09:42:02-10:00
toc: true
categories:
  - Blog
tags:
  - Basics
  - CLanguage
  - Computer Science(CS)
---

## 数据类型
### 整数类型  

类型(type)|存储大小|值范围
|--|--|--|
char|	1 字节|	-128 到 127 或 0 到 255
unsigned char	|1 字节|	0 到 255
signed char	|1 字节|	-128 到 127
int|	4 字节|	-32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647
unsigned int	|4 字节	|0 到 65,535 或 0 到 4,294,967,295
short	|2 字节	|-32,768 到 32,767
unsigned short	|2 字节	|0 到 65,535
long|	4 字节	|-2,147,483,648 到 2,147,483,647
unsigned long	|4 字节|	0 到 4,294,967,295

在c语言中可以使用`sizeof(type)`函数来获得当前系统中不同类型正确的数据宽度  
在64位系统中，long类型和`char*`类型为8字节。

### 数据宽度
在计算机中，因为受到硬件的制约，数据是有长度限制的，我们一般称之为**数据宽度**，超出最多宽度的数据会被丢弃掉。  

|名称|图示|大小|
|:--:|:--:|:--:|
|位(BIT)|▋|1位|
|字节(BYTE)|▋▋▋▋▋▋▋▋|8位|
|字(WORD)|▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋|16位,2个字节|
|双字(DWORD)|▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋|32位,4字节,2字|

### 浮点类型  

类型|	存储大小|值范围|精度
|--|--|--|--|
float|	4 字节|	1.2E-38 到 3.4E+38	|6 位有效位
double|	8 字节|	2.3E-308 到 1.7E+308	|15 位有效位
long double|	16 字节|	3.4E-4932 到 1.1E+4932	|19 位有效位

下表中每一个`▋`表示1Bit,float和double在存储方式上遵从IEEE的规范  

|type|符号位|指数部分|尾数部分
|--|--|:--:|:--:|
float|▋(1Bit)|▋▋▋▋▋▋▋▋(8Bit)|▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋(23Bit)
double|▋(1Bit)|▋▋▋▋▋▋▋▋▋▋▋(11Bit)|▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋▋(52Bit)

**上述类型赋值**

精简写法|完整写法
|--|--|
char x  = 1;|char x  = (char)1
short x = 2;|short x = (short)2
int x = 3;|int x = (int)3;
double x = 3.5;|double x = (double)3.5;

### 指针类型

#### 宽度
* 带`*`类型的变量宽度永远是4字节、无论类型是什么，无论有几个`*`  
`sizof(char*)`  `sizeof(short****)`  `sizeof(int*********)`  `sizeof(void****)`
#### 声明  

* 带有`*`的变量类型的标准写法：变量类型`*`变量名  
* 任何类型都可以带`*`加上`*`以后是新的类型  
* `*`可以是任意多个  
`struct A* x;`  `int** x;`  `char*** x;`  `double**** x;`  
此时表示`x`为`sturcu A*`/`int**`/`char***`/`double****` 类型的变量  

#### 赋值

带`*`类型赋值

完整写法|
|--|
char* x = (char*)1;|
short* x = (short*)2;|	
int* x = (int*)3;	|
struct A* x = (struct A*)4|


#### 运算

**++运算**  
* 不带`*`类型的变量,`++`或者`--`,都是加1,或者减1  
* 带`*`类型的变量,可以进行`++`,或者`--`的操作  
* 带`*`类型的变量,`++`或者`--`新增(减少)的数量是去掉一个`*`后变量的宽度  

```c
int main(){
  char* x = (char*)100;
  printf("初始值:%d\n",x);
  x++;
  printf("++运算:%d\n",x);
  x = (char*)100;//恢复初值
  x--;
  printf("--运算:%d\n",x);
}
//初始值:100
//++运算:101
//--运算:99
//如以上为`char**`类型结果则为
//初始值:100
//++运算:104
//--运算:96
```
**--运算**  

```c
int main(){
  int* x = (int*)100;
  printf("初始值:%d\n",x);
  x++;
  printf("++运算:%d\n",x);
  x = (int*)100;//恢复初值
  x--;
  printf("--运算:%d\n",x);
}
//初始值:100
//++运算:104
//--运算:96
//如以上为`int**`类型结果则为
//初始值:100
//++运算:104
//--运算:96
```

**+ -运算**  

> **带`*`类型的变量可以加、减一个整数，但不能乘或者除**  
> **带`*`类型变量与其他整数相加或者相减时:**  
>> **带`*`类型变量`+ N  =  `带`*`类型变量 + N`*`(去掉一个`*`后类型的宽度)**  
>> **带`*`类型变量`- N  =  `带`*`类型变量 - N`*`(去掉一个`*`后类型的宽度)**

```c
int main(){
  char* a = (char*)100;		
  short* b = (short*)100;		
  int* c = (int*)100;		

  a = a + 5;		
  b = b + 5;		
  c = c + 5;
  printf("A:%d B:%d c:%d",a,b,c);	
  
  a = (char*)100;//恢复初值
  b = (short*)100;//恢复初值
  c = (int*)100;//恢复初值
  
  a = a - 5;		
  b = b - 5;		
  c = c - 5;
  printf("A:%d B:%d c:%d",a,b,c);	
}
//A:105 B:110 C:120
//A:95 B:90 C:80
```

**求差值**
* 两个类型相同的带`*`类型的变量可以进行减法操作  
* 想减的结果要除以去掉一个`*`的数据的宽度  
		
```c
int main(){
  char* a ;
  char* b ;

  a = (char*)200;
  b = (char*)100;

  int x = a - b;

  printf("X:%d\n",x);
}
//X:100
```
**比较**
* 带`*`的变量，如果类型相同，可以做大小的比较。

```c
int main(){
  char**** a ;	
  char**** b ;	

  a = (char****)200;	
  b = (char****)100;	

  if(a>b)	
    printf("1");
  else	
    printf("2");
}
```
**取地址**  
* `&`是取地址符，类型是其后面的类型加一个`*`，任何变量都可以使用`&`来获取地址，但不能用在常量上。  

```c
char a = 10;
short b = 20;
int c = 30;

//&a 是char*类型
//&b 是short*类型
//&c 是int*类型

char* cp = &a;
short* sp = &b;
int* ip = &c;
```

**解引用**  

**`*`在使用变量名时是解引用**

* 带`*`类型的变量，可以通过在其变量前加`*`来获取其指向内存中存储的值
* 在带`*`类型的变量前面加`*`，类型是其原来的类型减去一个`*`
```c
int* px;
int** px2;
int*** px3;
int**** px4;
//*(px)  是int类型
//*(px2) 是int*类型
//*(px3) 是int**类型
//*(px4) 是int***类型
```
指针数组：数组元素为指针的数组

数组指针：指向数组地址的指针

**数组名是一个指向数组中第一个元素的常量指针。**  
例:`int arr[10];`  
`arr`是一个指向`&arr[0]`的常量指针

### 空类型
void类型  
